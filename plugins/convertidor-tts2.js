import _0x1831d5 from'axios';import _0x3d70b0 from'node-fetch';const handler=async(_0x4e3132,{conn:_0xd8a1cf,usedPrefix:_0x19c8c0,command:_0x15a820,text:_0x39d6c4,args:_0x175ead})=>{const [_0x399453,..._0x2884ee]=_0x39d6c4['split']('\x20'),_0x5571ac=_0x2884ee['join']('');if(!_0x399453){let _0x2b3fe4=await getVoiceList(),_0x34d27f='[❗]\x20You\x20have\x20not\x20entered\x20an\x20effect,\x20please\x20enter\x20a\x20voice\x20effect.\x20\x0a\x0a\x20Choose\x20one\x20of\x20the\x20following\x20effects\x20\x0a';for(let _0x2528c8=0x0,_0x536fe7=0x0;_0x536fe7<0x64&&_0x2528c8<_0x2b3fe4['resultado']['length'];_0x2528c8++){const _0x29b01e=_0x2b3fe4['resultado'][_0x2528c8];_0x29b01e['ID']['length']<=0x14&&(_0x34d27f+='*◉\x20'+(_0x19c8c0+_0x15a820)+'\x20'+_0x29b01e['ID']+'\x20your_text_here\x0a',_0x536fe7++);}return _0xd8a1cf['sendMessage'](_0x4e3132['chat'],{'text':_0x34d27f['trim']()},{'quoted':_0x4e3132});}let _0x14316a=![],_0x1050e2=await getVoiceList();for(const _0xe05b69 of _0x1050e2['resultado']){if(_0xe05b69['ID']===_0x399453){_0x14316a=!![];break;}}if(!_0x14316a)return _0xd8a1cf['sendMessage'](_0x4e3132['chat'],{'text':'[❗]\x20The\x20provided\x20effect\x20does\x20not\x20exist\x20in\x20the\x20list,\x20use\x20'+(_0x19c8c0+_0x15a820)+'\x20for\x20the\x20list\x20of\x20effects.'},{'quoted':_0x4e3132});if(!_0x5571ac)return _0xd8a1cf['sendMessage'](_0x4e3132['chat'],{'text':'[❗]Ingrese\x20el\x20texto\x20que\x20quiere\x20convertir\x20en\x20audio.\x20\x0a\x0a\x20EJEMPLO\x20:\x0a\x20'+(_0x19c8c0+_0x15a820)+'\x20'+_0x399453+'Hola,\x20este\x20es\x20un\x20ejemplo\x20yo\x20usando\x20el\x20comando.'},{'quoted':_0x4e3132});let _0x44b0ad=await makeTTSRequest(_0x5571ac,_0x399453);_0xd8a1cf['sendMessage'](_0x4e3132['chat'],{'audio':{'url':_0x44b0ad['resultado']},'fileName':'error.mp3','mimetype':'audio/mpeg','ptt':!![]},{'quoted':_0x4e3132});};handler['command']=/^(g?tts2)$/i,handler['register']=!![],handler['premium']=!![];export default handler;const secretKey='fe2ee40099494579af0ecf871b5af266',userId='SrgwcKcLzSY63IdsAxd1PzscFjL2';async function getVoiceList(){const _0x47a1b1='https://play.ht/api/v2/voices',_0x294635={'method':'GET','headers':{'accept':'application/json','AUTHORIZATION':'Bearer\x20'+secretKey,'X-USER-ID':userId}};try{const _0xa58432=await _0x3d70b0(_0x47a1b1,_0x294635),_0x938af2=await _0xa58432['json'](),_0x2ccde0=_0x938af2['reduce']((_0x4adbca,_0x351940)=>{return!_0x4adbca['some'](_0x357355=>_0x357355['id']===_0x351940['id'])&&_0x4adbca['push'](_0x351940),_0x4adbca;},[]),_0x4b0578=_0x2ccde0['map'](_0xdefffe=>({'ID':_0xdefffe['id'],'name':_0xdefffe['name'],'lenguaje':_0xdefffe['language']}));return{'resultado':_0x4b0578?_0x4b0578:'[❗]\x20Error,\x20no\x20response\x20from\x20the\x20API.'};}catch(_0x5c2b9c){console['error']('Error:',_0x5c2b9c);return{'resultado':'[❗]\x20Error,\x20no\x20response\x20from\x20the\x20API.'};throw _0x5c2b9c;}}async function makeTTSRequest(_0x216f67,_0x5c6638){const _0x29172c={'text':_0x216f67,'voice':_0x5c6638},_0x380f30={'Authorization':'Bearer\x20'+secretKey,'X-User-Id':userId,'accept':'text/event-stream','content-type':'application/json'};try{const _0x59157a=await _0x1831d5['post']('https://play.ht/api/v2/tts',_0x29172c,{'headers':_0x380f30}),_0x468fa2=_0x59157a['data']['split']('\x0d\x0a\x0d\x0a'),_0x2ba5da=_0x468fa2['find'](_0x388df9=>_0x388df9['includes']('\x22stage\x22:\x22complete\x22')),_0x836975=_0x2ba5da['match'](/"url":"([^"]+)"/),_0x5efeb6=_0x836975?_0x836975[0x1]:null;return{'resultado':_0x5efeb6?_0x5efeb6:'[❗]\x20URL\x20not\x20found\x20in\x20response.'};}catch(_0x39184e){return console['error']('Error:',_0x39184e),{'resultado':'[❗]\x20Error,\x20no\x20response\x20from\x20the\x20API.'};}}
