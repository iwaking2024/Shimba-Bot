import _0x57b612 from'node-fetch';import{JSDOM}from'jsdom';function post(_0x413016,_0x319c7c){return _0x57b612(_0x413016,{'method':'POST','headers':{'accept':'*/*','accept-language':'en-US,en;q=0.9','content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8'},'body':new URLSearchParams(Object['entries'](_0x319c7c))});}const ytIdRegex=/(?:http(?:s|):\/\/|)(?:(?:www\.|)youtube(?:\-nocookie|)\.com\/(?:shorts\/)?(?:watch\?.*(?:|\&)v=|embed\/|v\/)|youtu\.be\/)([-_0-9A-Za-z]{11})/;async function yt(_0x326a61,_0xf0c551,_0x3e8cb7,_0x3176ad,_0x2808df='en68'){if(!ytIdRegex['test'](_0x326a61))throw'Invalid\x20URL';const _0x5723b4=ytIdRegex['exec'](_0x326a61);_0x326a61='https://youtu.be/'+_0x5723b4[0x1];const _0x5cfcf1=await post('https://www.y2mate.com/mates/'+_0x2808df+'/analyze/ajax',{'url':_0x326a61,'q_auto':0x0,'ajax':0x1}),_0x2949cd=await _0x5cfcf1['json'](),{document:_0x2275e6}=new JSDOM(_0x2949cd['result'])['window'],_0xf744bd=_0x2275e6['querySelectorAll']('table'),_0x5623cb=_0xf744bd[{'mp4':0x0,'mp3':0x1}[_0x3e8cb7]||0x0];let _0x27de1a;switch(_0x3e8cb7){case'mp4':_0x27de1a=Object['fromEntries']([..._0x5623cb['querySelectorAll']('td\x20>\x20a[href=\x22#\x22]')]['filter'](_0x597760=>!/\.3gp/['test'](_0x597760['innerHTML']))['map'](_0x32ecea=>[_0x32ecea['innerHTML']['match'](/.*?(?=\()/)[0x0]['trim'](),_0x32ecea['parentElement']['nextSibling']['nextSibling']['innerHTML']]));break;case'mp3':_0x27de1a={'128kbps':_0x5623cb['querySelector']('td\x20>\x20a[href=\x22#\x22]')['parentElement']['nextSibling']['nextSibling']['innerHTML']};break;default:_0x27de1a={};}const _0x49713a=_0x27de1a[_0xf0c551],_0x57d185=/var k__id = "(.*?)"/['exec'](_0x2275e6['body']['innerHTML'])||['',''],_0x89e489=_0x2275e6['querySelector']('img')['src'],_0x4248f1=_0x2275e6['querySelector']('b')['innerHTML'],_0x548b3d=await post('https://www.y2mate.com/mates/'+_0x2808df+'/convert',{'type':'youtube','_id':_0x57d185[0x1],'v_id':_0x5723b4[0x1],'ajax':'1','token':'','ftype':_0x3e8cb7,'fquality':_0x3176ad}),_0x5bf23c=await _0x548b3d['json'](),_0x5eb1f4=parseFloat(_0x49713a)*(0x3e8*/MB$/['test'](_0x49713a));return{'dl_link':/<a.+?href="(.+?)"/['exec'](_0x5bf23c['result'])[0x1],'thumb':_0x89e489,'title':_0x4248f1,'filesizeF':_0x49713a,'filesize':_0x5eb1f4};}export default{'yt':yt,'ytIdRegex':ytIdRegex,'yta'(_0xe36e7d,_0x2a45ce='en68'){return yt(_0xe36e7d,'128kbps','mp3','128',_0x2a45ce);},'ytv'(_0x3cb726,_0x29acfd='en68'){return yt(_0x3cb726,'360p','mp4','360',_0x29acfd);},'servers':['id4','en60','en61','en68']};