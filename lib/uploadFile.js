import _0xf3db14 from'node-fetch';import{FormData,Blob}from'formdata-node';import{fileTypeFromBuffer}from'file-type';const fileIO=async _0x2e70b1=>{const {ext:_0x21f158,mime:_0x28d0f0}=await fileTypeFromBuffer(_0x2e70b1)||{},_0x5f51ea=new FormData(),_0x317ce4=new Blob([_0x2e70b1['toArrayBuffer']()],{'type':_0x28d0f0});_0x5f51ea['append']('file',_0x317ce4,'tmp.'+_0x21f158);const _0x53dbda=await _0xf3db14('https://file.io/?expires=1d',{'method':'POST','body':_0x5f51ea}),_0x2a046c=await _0x53dbda['json']();if(!_0x2a046c['success'])throw _0x2a046c;return _0x2a046c['link'];},RESTfulAPI=async _0x44aa60=>{const _0x20d972=new FormData();let _0x22f3a2=_0x44aa60;if(!Array['isArray'](_0x44aa60))_0x22f3a2=[_0x44aa60];for(const _0x52e0c7 of _0x22f3a2){const _0x1910f2=new Blob([_0x52e0c7['toArrayBuffer']()]);_0x20d972['append']('file',_0x1910f2);}const _0x5b474c=await _0xf3db14('https://storage.restfulapi.my.id/upload',{'method':'POST','body':_0x20d972});let _0x1ba230=await _0x5b474c['text']();try{_0x1ba230=JSON['parse'](_0x1ba230);if(!Array['isArray'](_0x44aa60))return _0x1ba230['files'][0x0]['url'];return _0x1ba230['files']['map'](_0x56bfa2=>_0x56bfa2['url']);}catch(_0x1a0272){throw _0x1ba230;}};export default async function (inp){let err=![];for(const upload of[RESTfulAPI,fileIO]){try{return await upload(inp);}catch(e){err=e;}}if(err)throw err;}